{"version":3,"sources":["webpack://dnd_plugin/webpack/universalModuleDefinition","webpack://dnd_plugin/webpack/bootstrap","webpack://dnd_plugin/./src/index.js","webpack://dnd_plugin/external \"grapesjs\"","webpack://dnd_plugin/./src/components.js","webpack://dnd_plugin/./src/blocks.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__1__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","grapesjs","plugins","add","editor","opts","arguments","length","undefined","options","blocks","flexGrid","stylePrefix","addBasicStyle","category","labelColumn1","labelColumn2","labelColumn3","labelColumn37","labelText","labelLink","labelImage","labelVideo","labelMap","labelHead1","labelHead2","labelHead3","labelHead4","labelHtml","_components2","default","_blocks2","categories","BlockManager","getCategories","each","set","on","opened","addComponents","at","defaultType","DomComponents","getType","model","view","bm","basicStyle","clsRow","clsCell","styleRow","styleClm","styleClm30","styleClm70","resizerBtm","tl","tc","tr","cl","cr","bl","br","minDim","resizerRight","bc","currentUnit","step","keyWidth","rowAttr","class","data-gjs-droppable","data-gjs-resizable","data-gjs-name","colAttr","data-gjs-draggable","privateCls","selector","indexOf","getFullName","attrsToString","attrs","result","toParse","Array","JSON","stringify","push","join","toAdd","attrsRow","attrsCell","label","attributes","content","type","style","padding","activeOnRender","color","src","height","width","title","Commands","run","sender","data","component","getSelected","codeViewer","CodeManager","getViewer","clone","codeName","theme","readOnly","modalContent","document","createElement","editorTextArea","saveButton","innerHTML","className","onclick","components","getValue","Modal","close","appendChild","init","htmlContent","toHTML","firstChild","setContent","setTitle","open","refresh","_initToolbar","initToolbar","addType","extend","args","apply","this","toolbar","command","isComponent","el","hasAttribute","addHTMLCodeComponent"],"mappings":";CAAA,SAAAA,EAAAC,GACA,iBAAAC,SAAA,iBAAAC,OACAA,OAAAD,QAAAD,EAAAG,QAAA,aACA,mBAAAC,eAAAC,IACAD,QAAA,YAAAJ,GACA,iBAAAC,QACAA,QAAA,WAAAD,EAAAG,QAAA,aAEAJ,EAAA,WAAAC,EAAAD,EAAA,UARA,CASCO,OAAA,SAAAC,GACD,mBCTA,IAAAC,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAT,QAGA,IAAAC,EAAAM,EAAAE,IACAC,EAAAD,EACAE,GAAA,EACAX,YAUA,OANAY,EAAAH,GAAAI,KAAAZ,EAAAD,QAAAC,IAAAD,QAAAQ,GAGAP,EAAAU,GAAA,EAGAV,EAAAD,QA0DA,OArDAQ,EAAAM,EAAAF,EAGAJ,EAAAO,EAAAR,EAGAC,EAAAQ,EAAA,SAAAhB,EAAAiB,EAAAC,GACAV,EAAAW,EAAAnB,EAAAiB,IACAG,OAAAC,eAAArB,EAAAiB,GAA0CK,YAAA,EAAAC,IAAAL,KAK1CV,EAAAgB,EAAA,SAAAxB,GACA,oBAAAyB,eAAAC,aACAN,OAAAC,eAAArB,EAAAyB,OAAAC,aAAwDC,MAAA,WAExDP,OAAAC,eAAArB,EAAA,cAAiD2B,OAAA,KAQjDnB,EAAAoB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAAnB,EAAAmB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFAxB,EAAAgB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAAnB,EAAAQ,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAvB,EAAA2B,EAAA,SAAAlC,GACA,IAAAiB,EAAAjB,KAAA6B,WACA,WAA2B,OAAA7B,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAO,EAAAQ,EAAAE,EAAA,IAAAA,GACAA,GAIAV,EAAAW,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD7B,EAAAgC,EAAA,GAIAhC,IAAAiC,EAAA,+PClFAjC,EAAA,QACAA,EAAA,QACAA,EAAA,iEAEekC,UAASC,QAAQC,IAAI,aAAc,SAACC,GAAsB,IAAdC,EAAcC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,MACjEG,KACJC,QAAS,UAAW,UAAW,UAAW,YAAa,OAAQ,OAAQ,QAAS,QAAS,MAAO,WAAY,WAAY,WAAY,WAAY,aAChJC,SAAU,EACVC,YAAa,OACbC,eAAe,EACfC,SAAU,QACVC,aAAc,WACdC,aAAc,YACdC,aAAc,YACdC,cAAe,gBACfC,UAAW,OACXC,UAAW,OACXC,WAAY,QACZC,WAAY,QACZC,SAAU,MACVC,WAAY,YACZC,WAAY,YACZC,WAAY,YACZC,WAAY,YACZC,UAAW,aACRvB,IAIL,EAAAwB,EAAAC,SAAe1B,EAAQK,IAGvB,EAAAsB,EAAAD,SAAW1B,EAAQK,GAEnB,IAAMuB,EAAa5B,EAAO6B,aAAaC,gBACvCF,EAAWG,KAAK,SAAArB,GACfA,EAASsB,IAAI,QAAQ,GAAOC,GAAG,cAAe,SAAAC,GAC7CA,EAAOxD,IAAI,SAAWkD,EAAWG,KAAK,SAAArB,GAC5BA,IAAawB,GAAUxB,EAASsB,IAAI,QAAQ,SAMxDhC,EAAOiC,GAAG,OAAQ,kBAAMjC,EAAOmC,cAAP,iFAAwGC,GAAI,uBC5CtIhF,EAAAD,QAAAM,2FCAe,SAACuC,GAAwBE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,OAEhCmC,EADOrC,EAAOsC,cACKC,QAAQ,WACZF,EAAYG,MACbH,EAAYI,uQCJnB,SAAUzC,GAAkB,IACnC9B,EADmCgC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,MAErCwC,EAAK1C,EAAO6B,aACZvB,EAASpC,EAAEoC,OACXE,EAActC,EAAEsC,YACdD,EAAWrC,EAAEqC,SACboC,EAAazE,EAAEuC,cACfmC,EAAYpC,EAAZ,MACAqC,EAAarC,EAAb,OACAsC,EAAWvC,YACZqC,EADY,6LASVA,EATU,yDAaZA,EAbY,uHAmBVpC,EAnBU,UAmBWA,EAnBX,YAmBkCA,EAnBlC,0EAwBXuC,EAAWxC,YACZsC,EADY,6FAMZA,EANY,+EAWXG,UACHxC,EADG,iCAIAyC,UACHzC,EADG,iCAQA0C,GAAeC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAG,EAAGC,GAAG,EAAGC,GAAI,EAAGC,OAFrD,GAGTC,OAAoBT,GAAYK,GAAI,EAAGK,GAAI,EAAGC,YAFhC,EAE6CH,OAHlD,EAG0DI,KAJ5D,KAQTvD,IACFoD,EAAaI,SAAW,cAG1B,IAAMC,GACJC,MAAOrB,EACPsB,qBAAA,IAA0BrB,EAC1BsB,qBAAsBjB,EACtBkB,gBAAiB,OAGbC,GACJJ,MAAOpB,EACPyB,qBAAA,IAA0B1B,EAC1BuB,qBAAsBR,EACtBS,gBAAiB,QAGf7D,IACF8D,EAAQ,wBAA0B,SAClCA,EAAQ,8BAAgC,eAI1C,IAAME,GAAa,IAAK3B,EAAL,IAAmBC,GACtC7C,EAAOiC,GAAG,eAAgB,SAAAuC,GAAA,OACxBD,EAAWE,QAAQD,EAASE,gBAAkB,GAAKF,EAASxC,IAAI,UAAW,KAE7E,IAAM2C,EAAgB,SAAAC,GACpB,IAAMC,KAEN,IAAK,IAAIzF,KAAOwF,EAAO,CACrB,IAAI9F,EAAQ8F,EAAMxF,GACZ0F,EAAUhG,aAAiBiG,OAASjG,aAAiBP,OAC3DO,EAAQgG,EAAUE,KAAKC,UAAUnG,GAASA,EAC1C+F,EAAOK,KAAQ9F,EAAf,KAAsB0F,MAAchG,EAAd,QAA6BA,EAA7B,MAGxB,OAAO+F,EAAO1E,OAAP,IAAoB0E,EAAOM,KAAK,KAAS,IAG5CC,EAAQ,SAAAhH,GAAA,OAAQkC,EAAOmE,QAAQrG,IAAS,GACxCiH,EAAWV,EAAcX,GACzBsB,EAAYX,EAAcN,GAEhCe,EAAM,YAAc1C,EAAG3C,IAAI,WACzBwF,MAAOrH,EAAEyC,aACTD,SAAU,OACV8E,YAAavB,MAAM,sBACnBwB,gBAAiBJ,EAAjB,mBACWC,EADX,iCAGK3C,wBAEGG,EAFH,eAGGC,EAHH,qBAKC,MAGRqC,EAAM,YAAc1C,EAAG3C,IAAI,WACzBwF,MAAOrH,EAAE0C,aACT4E,YAAavB,MAAM,sBACnBvD,SAAU,OACV+E,gBAAiBJ,EAAjB,mBACWC,EADX,yBAEWA,EAFX,iCAIK3C,wBAEGG,EAFH,eAGGC,EAHH,qBAKC,MAGRqC,EAAM,YAAc1C,EAAG3C,IAAI,WACzBwF,MAAOrH,EAAE2C,aACTH,SAAU,OACV8E,YAAavB,MAAM,sBACnBwB,gBAAiBJ,EAAjB,mBACWC,EADX,yBAEWA,EAFX,yBAGWA,EAHX,iCAKK3C,wBAEGG,EAFH,eAGGC,EAHH,qBAKC,MAGRqC,EAAM,cAAgB1C,EAAG3C,IAAI,aAC3BwF,MAAOrH,EAAE4C,cACTJ,SAAU,OACV8E,YAAavB,MAAM,uBACnBwB,gBAAiBJ,EAAjB,mBACWC,EADX,YAC+B/E,EAAW,aAAe,SADzD,gCAEW+E,EAFX,YAE+B/E,EAAW,aAAe,SAFzD,wCAIKoC,wBAEGG,EAFH,eAGGC,EAHH,eAIGC,EAJH,eAKGC,EALH,qBAOC,MAGRmC,EAAM,SAAW1C,EAAG3C,IAAI,QACtBwF,MAAOrH,EAAE6C,UACTL,SAAUxC,EAAEwC,SACZ8E,YAAavB,MAAM,wBACnBwB,SACEC,KAAK,OACLD,QAAQ,wBACRE,OAAQC,QAAS,QACjBC,eAAgB,KAIpBT,EAAM,SAAW1C,EAAG3C,IAAI,QACtBwF,MAAOrH,EAAE8C,UACTN,SAAUxC,EAAEwC,SACZ8E,YAAavB,MAAM,cACnBwB,SACEC,KAAK,OACLD,QAAQ,OACRE,OAAQG,MAAO,cAInBV,EAAM,UAAY1C,EAAG3C,IAAI,SACvBwF,MAAOrH,EAAE+C,WACTP,SAAU,QACV8E,YAAavB,MAAM,yBACnBwB,SACEE,OAAQG,MAAO,SACfJ,KAAK,QACLG,eAAgB,KAIpBT,EAAM,UAAY1C,EAAG3C,IAAI,SACvBwF,MAAOrH,EAAEgD,WACTR,SAAU,QACV8E,YAAavB,MAAM,sBACnBwB,SACEC,KAAM,QACNK,IAAK,kBACLJ,OACEK,OAAQ,QACRC,MAAO,YAKbb,EAAM,QAAU1C,EAAG3C,IAAI,OACrBwF,MAAOrH,EAAEiD,SACTT,SAAU,QACV8E,YAAavB,MAAM,eACnBwB,SACEC,KAAM,MACNC,OAAQK,OAAQ,YAKpBZ,EAAM,aAAe1C,EAAG3C,IAAI,YAC1BwF,MAAOrH,EAAEkD,WACTqE,QAAS,qBACT/E,SAAU,UACV8E,YACEU,MAAO,kBACPjC,MAAO,kBAKXmB,EAAM,aAAe1C,EAAG3C,IAAI,YAC1BwF,MAAOrH,EAAEmD,WACToE,QAAS,qBACT/E,SAAU,UACV8E,YACEU,MAAO,kBACPjC,MAAO,kBAKXmB,EAAM,aAAe1C,EAAG3C,IAAI,YAC1BwF,MAAOrH,EAAEoD,WACTmE,QAAS,qBACT/E,SAAU,UACV8E,YACEU,MAAO,kBACPjC,MAAO,kBAKXmB,EAAM,aAAe1C,EAAG3C,IAAI,YAC1BwF,MAAOrH,EAAEqD,WACTkE,QAAS,qBACT/E,SAAU,UACV8E,YACEU,MAAO,kBACPjC,MAAO,kBAKXmB,EAAM,cAAgB1C,EAAG3C,IAAI,aAC3BwF,MAAOrH,EAAEsD,UACTd,SAAU,SACV8E,YAAavB,MAAO,cACpBwB,QAAS,mDAOTzF,EAAOmG,SAASpG,IAAI,yBAClBqG,IAAK,SAASpG,EAAQqG,EAAQC,GAC5B,IAAIC,EAAYvG,EAAOwG,cAEnBC,EAAazG,EAAO0G,YAAYC,UAAU,cAAcC,QAC5DH,EAAWzE,KACT6E,SAAU,YACVC,MAAO,YACPC,UAAU,IAGZ,IAAIC,EAAeC,SAASC,cAAc,OAEtCC,EAAiBF,SAASC,cAAc,YAExCE,EAAaH,SAASC,cAAc,UACxCE,EAAWC,UAAY,OACvBD,EAAWE,UAAY,eACvBF,EAAWzB,MAAQ,mBACnByB,EAAWG,QAAU,WACnBhB,EAAUvE,IAAI,UAAW,IACzBuE,EAAUiB,WAAWf,EAAWzG,OAAOyH,YACvCzH,EAAO0H,MAAMC,SAGfX,EAAaY,YAAYT,GACzBH,EAAaY,YAAYR,GAEzBX,EAAWoB,KAAKV,GAEhB,IAAIW,EAAcb,SAASC,cAAc,OACzCY,EAAYT,UAAYd,EAAUwB,SAClCD,EAAcA,EAAYE,WAAWX,UACrCZ,EAAWwB,WAAWH,GAEtB9H,EAAO0H,MACJQ,SAAS,aACTD,WAAWjB,GACXmB,OAEH1B,EAAWzG,OAAOoI,aAKxB,WACE,IAAI/F,EAAcrC,EAAOsC,cAAcC,QAAQ,WAE3C8F,EAAehG,EAAYG,MAAM/C,UAAU6I,YAE/CtI,EAAOsC,cAAciG,QAAQ,aAC3B/F,MAAOH,EAAYG,MAAMgG,QACvBF,YAD8B,SAClBG,GACVJ,EAAaK,MAAMC,KAAMF,GAEzB,IAAIG,EAAUD,KAAKjK,IAAI,WACvBkK,EAAQ1D,MACJM,YAAcvB,MAAS,cACrB4E,QAAS,0BAEfF,KAAK3G,IAAI,UAAW4G,MAGtBE,YAAa,SAASC,GACpB,GAA8B,mBAAnBA,EAAGC,cAA8BD,EAAGC,aAAa,kBAC1D,OAAQtD,KAAM,gBAIpBjD,KAAMJ,EAAYI,OAxEtBwG","file":"dist/dnd_plugin.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"grapesjs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"grapesjs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"dnd_plugin\"] = factory(require(\"grapesjs\"));\n\telse\n\t\troot[\"dnd_plugin\"] = factory(root[\"grapesjs\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__1__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import grapesjs from 'grapesjs';\nimport loadComponents from './components';\nimport loadBlocks from './blocks';\n\nexport default grapesjs.plugins.add('dnd_plugin', (editor, opts = {}) => {\n  const options = {\n    blocks: ['column1', 'column2', 'column3', 'column3-7', 'text', 'link', 'image', 'video', 'map', 'h1-block', 'h2-block', 'h3-block', 'h4-block', 'html-code'],\n    flexGrid: 0,\n    stylePrefix: 'gjs-',\n    addBasicStyle: true,\n    category: 'Basic',\n    labelColumn1: '1 Column',\n    labelColumn2: '2 Columns',\n    labelColumn3: '3 Columns',\n    labelColumn37: '2 Columns 3/7',\n    labelText: 'Text',\n    labelLink: 'Link',\n    labelImage: 'Image',\n    labelVideo: 'Video',\n    labelMap: 'Map',\n    labelHead1: 'Heading 1',\n    labelHead2: 'Heading 2',\n    labelHead3: 'Heading 3',\n    labelHead4: 'Heading 4',\n    labelHtml: 'html-code',\n    ...opts\n  };\n\n  // Add components\n  loadComponents(editor, options);\n\n  // Add blocks\n  loadBlocks(editor, options);\n  //accordia style \n  const categories = editor.BlockManager.getCategories();\n  categories.each(category => {\n  \tcategory.set('open', false).on('change:open', opened => {\n  \t\topened.get('open') && categories.each(category => {\n              category !== opened && category.set('open', false)\n          })\n  \t})\n  })\n\n  // TODO Remove\n  editor.on('load', () => editor.addComponents(`<div style=\"margin:100px; padding:25px;\">Content loaded from the plugin</div>`, { at: 0 }))\n});\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","export default (editor, config = {}) => {\n  const domc = editor.DomComponents;\n  const defaultType = domc.getType('default');\n  const defaultModel = defaultType.model;\n  const defaultView = defaultType.view;\n  // ...\n}\n","export default function (editor, opt = {}) {\n  const c = opt;\n  let bm = editor.BlockManager;\n  let blocks = c.blocks;\n  let stylePrefix = c.stylePrefix;\n  const flexGrid = c.flexGrid;\n  const basicStyle = c.addBasicStyle;\n  const clsRow = `${stylePrefix}row`;\n  const clsCell = `${stylePrefix}cell`;\n  const styleRow = flexGrid ? `\n    .${clsRow} {\n      display: flex;\n      justify-content: flex-start;\n      align-items: stretch;\n      flex-wrap: nowrap;\n      padding: 10px;\n    }\n    @media (max-width: 768px) {\n      .${clsRow} {\n        flex-wrap: wrap;\n      }\n    }` : `\n    .${clsRow} {\n      display: table;\n      padding: 10px;\n      width: 100%;\n    }\n    @media (max-width: 768px) {\n      .${stylePrefix}cell, .${stylePrefix}cell30, .${stylePrefix}cell70 {\n        width: 100%;\n        display: block;\n      }\n    }`;\n  const styleClm = flexGrid ? `\n    .${clsCell} {\n      min-height: 75px;\n      flex-grow: 1;\n      flex-basis: 100%;\n    }` : `\n    .${clsCell} {\n      width: 8%;\n      display: table-cell;\n      height: 75px;\n    }`;\n  const styleClm30 = `\n  .${stylePrefix}cell30 {\n    width: 30%;\n  }`;\n  const styleClm70 = `\n  .${stylePrefix}cell70 {\n    width: 70%;\n  }`;\n\n  const step = 0.2;\n  const minDim = 1;\n  const currentUnit = 1;\n  const resizerBtm = { tl: 0, tc: 0, tr: 0, cl: 0, cr:0, bl:0, br: 0, minDim };\n  const resizerRight = { ...resizerBtm, cr: 1, bc: 0, currentUnit, minDim, step };\n\n  // Flex elements do not react on width style change therefore I use\n  // 'flex-basis' as keyWidth for the resizer on columns\n  if (flexGrid) {\n    resizerRight.keyWidth = 'flex-basis';\n  }\n\n  const rowAttr = {\n    class: clsRow,\n    'data-gjs-droppable': `.${clsCell}`,\n    'data-gjs-resizable': resizerBtm,\n    'data-gjs-name': 'Row',\n  };\n\n  const colAttr = {\n    class: clsCell,\n    'data-gjs-draggable': `.${clsRow}`,\n    'data-gjs-resizable': resizerRight,\n    'data-gjs-name': 'Cell',\n  };\n\n  if (flexGrid) {\n    colAttr['data-gjs-unstylable'] = ['width'];\n    colAttr['data-gjs-stylable-require'] = ['flex-basis'];\n  }\n\n  // Make row and column classes private\n  const privateCls = [`.${clsRow}`, `.${clsCell}`];\n  editor.on('selector:add', selector =>\n    privateCls.indexOf(selector.getFullName()) >= 0 && selector.set('private', 1))\n\n  const attrsToString = attrs => {\n    const result = [];\n\n    for (let key in attrs) {\n      let value = attrs[key];\n      const toParse = value instanceof Array || value instanceof Object;\n      value = toParse ? JSON.stringify(value) : value;\n      result.push(`${key}=${toParse ? `'${value}'` : `\"${value}\"`}`);\n    }\n\n    return result.length ? ` ${result.join(' ')}` : '';\n  }\n\n  const toAdd = name => blocks.indexOf(name) >= 0;\n  const attrsRow = attrsToString(rowAttr);\n  const attrsCell = attrsToString(colAttr);\n\n  toAdd('column1') && bm.add('column1', {\n    label: c.labelColumn1,\n    category: \"Grid\",\n    attributes: {class:'gjs-fonts gjs-f-b1'},\n    content: `<div ${attrsRow}>\n        <div ${attrsCell}></div>\n      </div>\n      ${ basicStyle ?\n        `<style>\n          ${styleRow}\n          ${styleClm}\n        </style>`\n        : ''}`\n  });\n\n  toAdd('column2') && bm.add('column2', {\n    label: c.labelColumn2,\n    attributes: {class:'gjs-fonts gjs-f-b2'},\n    category: \"Grid\",\n    content: `<div ${attrsRow}>\n        <div ${attrsCell}></div>\n        <div ${attrsCell}></div>\n      </div>\n      ${ basicStyle ?\n        `<style>\n          ${styleRow}\n          ${styleClm}\n        </style>`\n        : ''}`\n  });\n\n  toAdd('column3') && bm.add('column3', {\n    label: c.labelColumn3,\n    category: \"Grid\",\n    attributes: {class:'gjs-fonts gjs-f-b3'},\n    content: `<div ${attrsRow}>\n        <div ${attrsCell}></div>\n        <div ${attrsCell}></div>\n        <div ${attrsCell}></div>\n      </div>\n      ${ basicStyle ?\n        `<style>\n          ${styleRow}\n          ${styleClm}\n        </style>`\n        : ''}`\n  });\n\n  toAdd('column3-7') && bm.add('column3-7', {\n    label: c.labelColumn37,\n    category: \"Grid\",\n    attributes: {class:'gjs-fonts gjs-f-b37'},\n    content: `<div ${attrsRow}>\n        <div ${attrsCell} style=\"${flexGrid ? 'flex-basis' : 'width'}: 30%;\"></div>\n        <div ${attrsCell} style=\"${flexGrid ? 'flex-basis' : 'width'}: 70%;\"></div>\n      </div>\n      ${ basicStyle ?\n        `<style>\n          ${styleRow}\n          ${styleClm}\n          ${styleClm30}\n          ${styleClm70}\n        </style>`\n        : ''}`\n  });\n\n  toAdd('text') && bm.add('text', {\n    label: c.labelText,\n    category: c.category,\n    attributes: {class:'gjs-fonts gjs-f-text'},\n    content: {\n      type:'text',\n      content:'Insert your text here',\n      style: {padding: '10px' },\n      activeOnRender: 1\n    },\n  });\n\n  toAdd('link') && bm.add('link', {\n    label: c.labelLink,\n    category: c.category,\n    attributes: {class:'fa fa-link'},\n    content: {\n      type:'link',\n      content:'Link',\n      style: {color: '#d983a6'}\n    },\n  });\n\n  toAdd('image') && bm.add('image', {\n    label: c.labelImage,\n    category: \"Extra\",\n    attributes: {class:'gjs-fonts gjs-f-image'},\n    content: {\n      style: {color: 'black'},\n      type:'image',\n      activeOnRender: 1\n    },\n  });\n\n  toAdd('video') && bm.add('video', {\n    label: c.labelVideo,\n    category: \"Extra\",\n    attributes: {class:'fa fa-youtube-play'},\n    content: {\n      type: 'video',\n      src: 'img/video2.webm',\n      style: {\n        height: '350px',\n        width: '615px',\n      }\n    },\n  });\n\n  toAdd('map') && bm.add('map', {\n    label: c.labelMap,\n    category: \"Extra\",\n    attributes: {class:'fa fa-map-o'},\n    content: {\n      type: 'map',\n      style: {height: '350px'}\n    },\n  });\n\n  //h1\n  toAdd('h1-block') && bm.add('h1-block', {\n    label: c.labelHead1,\n    content: '<h1>HEADING 1</h1>',\n    category: 'Heading',\n    attributes: {\n      title: 'Insert h1 block',\n      class: 'fa fa-header'\n    }\n  });\n\n  //h2\n  toAdd('h2-block') && bm.add('h2-block', {\n    label: c.labelHead2,\n    content: '<h2>HEADING 2</h2>',\n    category: 'Heading',\n    attributes: {\n      title: 'Insert h2 block',\n      class: 'fa fa-header'\n    }\n  });\n\n  //h3\n  toAdd('h3-block') && bm.add('h3-block', {\n    label: c.labelHead3,\n    content: '<h3>HEADING 3</h3>',\n    category: 'Heading',\n    attributes: {\n      title: 'Insert h3 block',\n      class: 'fa fa-header'\n    }\n  });\n\n  //h4\n  toAdd('h4-block') && bm.add('h4-block', {\n    label: c.labelHead4,\n    content: '<h4>HEADING 4</h4>',\n    category: 'Heading',\n    attributes: {\n      title: 'Insert h4 block',\n      class: 'fa fa-header'\n    }\n  });\n\n  //html-codeName\n  toAdd('html-code') && bm.add(\"html-code\", {\n    label: c.labelHtml,\n    category: \"Custom\",\n    attributes: {class: \"fa fa-code\"},\n    content: '<div data-html-code>Edit my HTML content</div>'\n  });\n\n  addHTMLCodeEditor();\n  addHTMLCodeComponent();\n\n  function addHTMLCodeEditor() {\n    editor.Commands.add(\"open-html-code-editor\", {\n      run: function(editor, sender, data) {\n        var component = editor.getSelected();\n\n        var codeViewer = editor.CodeManager.getViewer(\"CodeMirror\").clone();\n        codeViewer.set({\n          codeName: \"htmlmixed\",\n          theme: \"hopscotch\",\n          readOnly: false\n        });\n\n        var modalContent = document.createElement(\"div\");\n\n        var editorTextArea = document.createElement(\"textarea\");\n\n        var saveButton = document.createElement(\"button\");\n        saveButton.innerHTML = \"Save\";\n        saveButton.className = \"gjs-btn-prim\";\n        saveButton.style = \"margin-top: 8px;\";\n        saveButton.onclick = function() {\n          component.set(\"content\", \"\");\n          component.components(codeViewer.editor.getValue());\n          editor.Modal.close();\n        };\n\n        modalContent.appendChild(editorTextArea);\n        modalContent.appendChild(saveButton);\n\n        codeViewer.init(editorTextArea);\n\n        var htmlContent = document.createElement(\"div\");\n        htmlContent.innerHTML = component.toHTML();\n        htmlContent = htmlContent.firstChild.innerHTML;\n        codeViewer.setContent(htmlContent);\n\n        editor.Modal\n          .setTitle(\"Edit HTML\")\n          .setContent(modalContent)\n          .open();\n\n        codeViewer.editor.refresh();\n      }\n    });\n  };\n\n  function addHTMLCodeComponent() {\n    var defaultType = editor.DomComponents.getType('default');\n\n    var _initToolbar = defaultType.model.prototype.initToolbar;\n\n    editor.DomComponents.addType('html-code', {\n      model: defaultType.model.extend({\n        initToolbar(args) {\n          _initToolbar.apply(this, args);\n\n          var toolbar = this.get(\"toolbar\");\n          toolbar.push({\n              attributes: { \"class\": \"fa fa-code\" },\n                command: \"open-html-code-editor\"\n          });\n          this.set(\"toolbar\", toolbar);\n        }\n      }, {\n        isComponent: function(el) {\n          if (typeof el.hasAttribute == \"function\" && el.hasAttribute(\"data-html-code\")) {\n            return {type: \"html-code\"};\n          }\n        }\n      }),\n      view: defaultType.view\n    });\n  };\n\n\n\n}\n"],"sourceRoot":""}